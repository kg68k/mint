# mint FAQ

## TwentyOne +S なのにスペースを含むファイル名が扱えません。

　TwentyOne.x、VTwentyOne.x は不具合のためスペースを含むファイル名を正しく扱えま
せん。代わりに (V)TwentyOne.sys の最新版を組み込んでください。


## 削除できないファイルがあります。

　ファイル名にスペースが含まれている可能性があります。

　TwentyOne.x、VTwentyOne.x は不具合のためスペースを含むファイル名を正しく扱えま
せん。代わりに (V)TwentyOne.sys の最新版を組み込んでください。


## 定義ファイルに .mint というファイル名が使えません。

　TwentyOne を組み込んでいない、または TwentyOne の設定を -P にしていると .mint
というファイル名は使用できません。その場合は _mint というファイル名にリネームし
てください。

　mint.x の起動時に .mint が見つからない場合は _mint というファイル名でも検索し
ます。

　また、環境変数`MINTRC3`に定義ファイルのフルパスを設定することで、任意のファイ
ル名を指定することもできます。


## SHIFT＋カーソルキーに割り当てた機能が実行されません。

　SHIFT＋カーソルキーや SHIFT＋テンキーは TV コントロールに使用され、IOCS レベル
ではキー入力が発生しません。mint version 2.25 では IOCS の上に細工を施していたの
で、そのようなキーにも機能を割り当てることができました。

　しかし、v3 以降では IOCS によるキー入力をそのまま使用しているため、通常は機能
を割り当てることができません。機能を割り当てたい場合は KeyWitch.x を組み込んで下
さい。


## `&mask *.*`ですべてのファイルが表示されません。

　`*.*`ではピリオドを含むファイル名のみを表示します。すべてのファイルを表示させ
る場合は`&mask *`とします。

　mint version 2.25 とは仕様が変更されていますが、現在の仕様の方が画面上の表示
(パスマスク)とも一致するので自然だと思います。


## ハイメモリ上で動作しますか？

　ハイメモリ上でも動作します。

　ただし、もともとハイメモリ上では動作しない外部コマンドやファンクションコールな
どを mint から呼び出した場合は、当然動作しません。


## リロード(`-d2`)の後に`&pop-text`が実行されてしまいます。

　以下のようなスクリプトを実行すると、fcp が終了した直後にリロード(`-d2`)し、そ
の次に`&pop-text`が実行されます。
```
  -d2  &title-load -n foo.mag; fcp $M $O; &pop-text
```

　`&pop-text`より先に、画面表示を更新するリロードは行わないでください。以下のよ
うに`&reload`命令を使えば任意のタイミングでリロードが行えます。

```
  ---  &title-load -n foo.mag; fcp $M $O; &pop-text;
       &reload -d2
```

## `%kpal 0`なのに割り込み表示窓の`SS`がオンを示しています。

　スクリーンセーバのオン・オフは`%down`で指定します。`%kpal`はパレットイルミネー
ションのオン・オフなので、`SS`の表示には影響しません。


## `&sort -t`で古いファイルが上の方に表示されます。

　mint v3 以降では、比較するデータを数値で見て小さい方が上の方に表示されるように
統一されています。version 2.25 のようにタイムスタンプでソートする時だけ逆にする
には、`%srtr 2`を設定して下さい。


## `%`や`%e`などの古い形式の変数が置換されません。

　`%～`形式の変数は削除されました。`$～`形式に書き換えて下さい。


## mintarc 中でまだ一度も展開していないファイルで`&data-title`が使えません。

　`&data-title`の引数として`$F`を指定して下さい。
```
  &data-title $F
```

　これにより mint が自動的にカーソル位置ファイルを展開してから`&data-title`を実
行するので、mintarc 中でもタイトルが表示されます。


## `&data-title`が遅くなっています。

　mint v3 以降では、できる限りヘッダ解析によってデータ形式を判別しているため、
version 2.25 に比べてファイルアクセスが多くなっています。それが気になる場合は、
`%dttl 2`を設定すると標準的な拡張子以外ではファイルアクセスを行わなくなるので、
劇的に軽くなります。

　「mintarc 中でまだ一度も展開していないファイルで`&data-title`が使えません。」
で示した mintarc 中の動作もやめた方が軽くなります。更に、カーソル移動ごとに
`&data-title`を呼び出すのではなく、特定のキーにバインドするという回避策もありま
す。


## Graphic Mask って何？

　Graphic Mask とは、JACK 氏が作られた常駐プログラムです。

　CRT の表示画面サイズを 768x512 のモードにして 65536 色のグラフィックを表示する
と、通常は画面の両脇に余分な(繰り返しの)グラフィックが表示されてしまいます。しか
し、このプログラムを組み込むと両脇を黒くマスクしてくれ、それが見えなくなります。

　また、GNC モードと呼ばれる、画面を初期化してもグラフィックが消えないようになる
機能も持っています。

　なお Graphic Mask の最新版は、JACK 氏による version 0.87 (書庫名は gm087.tgz、
gm087a.tgz)と、それを TcbnErik が改変した version 0.87 patchlevel 3
(同 gm087p3.zip)となっています。


## カレントパス表示行(cplp 行)を表示したい。

　`%cplp 1`にします。


## `&input`をキャンセルしても後続のスクリプトが実行されてしまう。

　以下のようなスクリプトを実行すると、二回目に`&input`をキャンセルしても
`&lzh-selector`が起動してしまいます。
```
  ---  &input; &lzh-selector $_
```

　`&input`を使った時は必ずエラーチェックもして下さい。また、`$_`が`NUL`でないか
も調べた方が良いです。以下のようにすれば`&input`をキャンセルしたり何も入力せずに
決定した場合には`&lzh-selector`を起動しないようになります。

```
  ---  &if ( &input ) {
               &if ( ! &strcmp NUL $_ ) {
                       &lzh-selector $_
               }
       }
```

## 外部コマンド実行後に画面モードが初期化されてしまいます。

　`-g?`オプションを指定して下さい。


## `&look-file`でテキスト画面の表示が乱れます。

　X680x0 本体をクロックアップ改造したり、アクセラレータを装着すると、`&look-file`
でテキスト画面が乱れることがあります。

　`IOCS _TXRASCPY`に高速化対応パッチがあたっていないのが原因です。HIOCS PLUS
などの、`IOCS _TXRASCPY`にパッチをあてて高クロック環境でも正常に動くようにする常
駐プログラムを組み込んで下さい。


## hdskf の古いバージョンを組み込んでいると、空きメモリが減っていきます。

　hdskf の古いバージョンの不具合です。最新バージョン(ver0.08+ 以降)に差し替えて
ください。


## fish 0.8.1 上で mint の起動・終了を繰り返すと空きメモリが減っていきます。

　fish の不具合です。fish の`envcmds`の指定から mint.x を取り除くか、fish に
fish_p1.zip のパッチをあててください。


## SUSIE で CD-ROM を認識してもライトプロテクトされていません。

　CD-ROM ドライブと SUSIE の不具合です。代わりに SUSIEX を使用してください。


## (V)TwentyOne.x を認識しません。

　mint v3 以降では (V)TwentyOne.x には対応しないようになりました。代わりに
(V)TwentyOne.sys を組み込んでください。

　ただし`%case 2`での`&i-search`や`&twentyone-ignore-case`を使わないなら、
(V)TwentyOne.x でも問題ありません。


## サイズが0バイトの実行ファイルを実行しようとすると、動作がおかしくなります。

　Human68k の不具合です。一度 mint を終了して下さい。


## ハイメモリ実行時、SCSI 関係の機能で Mach-2 の表示がおかしい。

　mint.x をハイメモリで実行すると、`&scsi-check`や`&scsi-menu`で Mach-2 に接続さ
れている機器の表示がおかしくなることがあります。

　060turbo.sys の不具合です。本体メモリで実行してください。  
※未確認ですが、060turbo.sys の最新版ではれば問題ないかもしれません。


## 1万以上のファイルをマークしても、マーク数が9999と表示されます。

　画面レイアウトの都合上マーク数を4桁までに限定しているため、10,000個以上マーク
しても9999と表示されます。

　レイアウトを拡張するアイデアを募集します。

